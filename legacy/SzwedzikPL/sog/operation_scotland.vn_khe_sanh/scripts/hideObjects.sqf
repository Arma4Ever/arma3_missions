#include "script_component.hpp"
/*
 * Author: SzwedzikPL
 * Hides map objects
 */

#define MAP_TYPES_BUILDING			["BUILDING","HOUSE","CHURCH","CHAPEL","FUELSTATION","HOSPITAL","RUIN","BUNKER"]
#define MAP_TYPES_VEGETATION		["TREE","SMALL TREE","BUSH"]
#define MAP_TYPES_WALL				  ["WALL","FENCE"]
#define MAP_TYPES_MISC				  ["ROCK","ROCKS","FOREST BORDER","FOREST TRIANGLE","FOREST SQUARE","CROSS","FORTRESS","FOUNTAIN","VIEW-TOWER","LIGHTHOUSE","QUAY","HIDE","BUSSTOP","ROAD","FOREST","TRANSMITTER","STACK","TOURISM","WATERTOWER","TRACK","MAIN ROAD","POWER LINES","RAILWAY","POWERSOLAR","POWERWAVE","POWERWIND","SHIPWRECK","TRAIL"]

#define CATEGORY_COMP				    [MAP_TYPES_BUILDING,MAP_TYPES_WALL,MAP_TYPES_VEGETATION,MAP_TYPES_MISC]

{
  _x params ["_area", "_value"];
  private _hidingCode = if (isServer) then {
    {_x hideObject true;_x allowDamage false;}
  } else {
    {_x hideObject true;}
  };
  _area params ["_pivot", "_a", "_b"];
  private _radius = (_a max _b) * 1.42;
  private _flags = _value call bis_fnc_decodeFlags2;
  {
    if (_x == 1) then {
      private _found = nearestTerrainObjects [_pivot, CATEGORY_COMP select _forEachIndex, _radius, false, true];
      _hidingCode forEach (_found inAreaArray _area);
    };
  } forEach _flags;
} forEach [
  [[[6057.9,8004.7,-0.0773621],2.242,4.45183,305.254,false,0],12],
  [[[6061.98,8038.39,0],2.242,4.45183,230.979,false,0],12],
  [[[7981.85,7043.24,1.38324],3.08006,2.64946,103.946,false,0],4],
  [[[7611.53,6653.47,1.03369],3.08006,2.64946,103.946,false,0],4],
  [[[8416.02,6839.34,0.0351563],6.90043,16.021,93.0889,false,0],8],
  [[[8456.9,6845.63,0],5.05127,15.9533,128.024,false,0],8],
  [[[8437.22,6845.07,-0.158463],7.31625,16.1304,56.9256,false,0],8],
  [[[8073.19,7055.86,1.03387],3.08006,2.64946,103.946,false,0],4],
  [[[8486.29,6796.88,-0.510788],6.69933,16.4777,109.155,false,0],8],
  [[[8466.4,6832.44,-1.25713],5.05127,15.9533,166.421,false,0],8],
  [[[8365.2,6843.96,0],6.47846,14.9476,103.946,false,0],8],
  [[[7333.4,7371.7,0.748688],11.8529,16.5578,222.66,false,0],15],
  [[[8385.56,6839.55,1.15761],6.21955,12.3048,97.3822,false,0],8],
  [[[8510.19,6775.49,-1.52588e-005],3.097,7.88,129.757,false,0],8],
  [[[8503.75,6771.4,0],3.097,7.88,103.864,false,0],8],
  [[[8697.25,6681.07,1.26451],4.69116,24.5062,85.9046,false,0],8],
  [[[8503.23,6786.56,-0.681885],5.83293,7.88,136.827,false,0],8],
  [[[8891.67,6629.27,2.23448],3.70759,9.68046,287.554,false,0],15],
  [[[8906.42,6617.86,1.119],3.532,14.241,313.747,false,0],15],
  [[[9126.43,6237.09,0],1.62329,1.62329,0,false,0],15],
  [[[8727.67,6678.67,0.520004],8.772,9.093,85.417,false,0],8],
  [[[8532.23,6745.91,0],8.772,14.8709,116.751,false,0],8],
  [[[8522.25,6764.2,0],8.772,14.8709,146.782,false,0],8],
  [[[9136.29,6641.5,0.418762],8.29663,9.63013,0,false,0],15],
  [[[8750.75,6689,1.43073],5.87451,22.9567,73.8367,false,0],8],
  [[[8554.58,6736.02,0.282455],8.772,14.8709,127.382,false,0],8],
  [[[8939.61,6685.46,0.249329],3.937,7.16722,0,false,0],15],
  [[[9417.42,6819.94,0],1.62329,1.62329,0,false,0],15],
  [[[8787.68,6718.53,0.0251312],5.44458,3.81274,0,false,0],15],
  [[[8784.99,6698.92,1.06444],6.22391,17.5432,69.3231,false,0],8],
  [[[8788.73,6709.67,1.13046],4.74918,8.3154,80.6823,false,0],8],
  [[[8580.28,6714.12,0.792007],7.716,31.602,142.576,false,0],8],
  [[[8949.12,6719.71,0],3.93677,3.93677,0,false,0],15],
  [[[9199.5,6163.46,0],1.62329,1.62329,0,false,0],15],
  [[[9181.21,6834.26,0],1.62329,1.62329,0,false,0],15],
  [[[8819.8,6703.58,1.12997],4.74918,8.3154,106.411,false,0],8],
  [[[8807.32,6705.13,1.53546],4.74918,8.3154,81.013,false,0],8],
  [[[8978.09,6611.17,0],3.93677,3.93677,0,false,0],15],
  [[[8978.87,6620.57,0],3.93677,3.93677,0,false,0],15],
  [[[8995.35,6658.21,0],0.712635,0.712635,0,false,0],15],
  [[[8991.01,6645.2,0.0119934],3.937,3.937,0,false,0],15],
  [[[8997.01,6657.77,0],0.712635,0.712635,0,false,0],15],
  [[[8982.15,6671.04,0],3.93677,3.93677,0,false,0],15],
  [[[8835.29,6685.53,3.216],2.333,3.813,160.588,false,0],15],
  [[[8835.11,6689.29,3.401],2.333,4.472,348.056,false,0],15],
  [[[8838.78,6677.73,2.776],2.333,6.555,149.295,false,0],15],
  [[[8843.61,6672.29,1.8],4.443,5.217,140.668,false,0],15],
  [[[8837.26,6689.92,0.512009],2.71,5.641,72.478,false,0],15],
  [[[8830.75,6695.58,1.01881],4.74918,7.80437,155.901,false,0],8],
  [[[9007.98,6320.69,0],1.62329,1.62329,0,false,0],15],
  [[[9261.57,6834.54,0],1.62329,1.62329,0,false,0],15],
  [[[8870.58,6641.85,3.927],2.887,17.693,308.884,false,0],15],
  [[[8859.17,6654.73,1.79999],4.443,5.217,339.626,false,0],15],
  [[[8850.79,6665.52,2.181],2.325,10.893,133.509,false,0],15],
  [[[8853.96,6661.69,1.8],4.443,5.217,140.668,false,0],15],
  [[[9044.69,6526.99,0],1.62329,1.62329,0,false,0],15],
  [[[9053.56,6512.02,-0.0121155],6.2146,7.07535,14.195,false,0],15],
  [[[9034.66,6567.59,0],3.93677,3.93677,0,false,0],15],
  [[[9052.67,6688.34,0],3.93677,3.93677,0,false,0],15],
  [[[9061.09,6521.22,0.0113525],1.62329,3.60596,0,false,0],15],
  [[[9320.27,6821.13,0],1.62329,1.62329,0,false,0],15],
  [[[9345.13,6813.95,0],1.62329,1.62329,0,false,0],15]
];
