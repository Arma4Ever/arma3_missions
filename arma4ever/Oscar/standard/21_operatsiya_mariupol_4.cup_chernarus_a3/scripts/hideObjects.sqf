#include "script_component.hpp"
/*
 * Author: SzwedzikPL
 * Hides map objects
 */

#define MAP_TYPES_BUILDING			["BUILDING","HOUSE","CHURCH","CHAPEL","FUELSTATION","HOSPITAL","RUIN","BUNKER"]
#define MAP_TYPES_VEGETATION		["TREE","SMALL TREE","BUSH"]
#define MAP_TYPES_WALL				  ["WALL","FENCE"]
#define MAP_TYPES_MISC				  ["ROCK","ROCKS","FOREST BORDER","FOREST TRIANGLE","FOREST SQUARE","CROSS","FORTRESS","FOUNTAIN","VIEW-TOWER","LIGHTHOUSE","QUAY","HIDE","BUSSTOP","ROAD","FOREST","TRANSMITTER","STACK","TOURISM","WATERTOWER","TRACK","MAIN ROAD","POWER LINES","RAILWAY","POWERSOLAR","POWERWAVE","POWERWIND","SHIPWRECK","TRAIL"]

#define CATEGORY_COMP				    [MAP_TYPES_BUILDING,MAP_TYPES_WALL,MAP_TYPES_VEGETATION,MAP_TYPES_MISC]

// Hide jars
0 call {
  private _objects = nearestTerrainObjects [[1594.02,12570.4,0], ["HIDE"], 800];
  private _jars = ["vn_jar_01.p3d", "vn_jar_02.p3d", "vn_jar_03.p3d"];
  {
  	if (((getModelInfo _x) # 0) in _jars) then {
  		_x hideObject true;
  	};
  } forEach _objects;
};

0 spawn {
  {
    _x params ["_area", "_value"];
    private _hidingCode = if (isServer) then {
      {_x hideObject true;_x allowDamage false;}
    } else {
      {_x hideObject true;}
    };
    _area params ["_pivot", "_a", "_b"];
    private _radius = (_a max _b) * 1.42;
    private _flags = _value call bis_fnc_decodeFlags2;
    {
			if (_x == 1) then {
        private _found = nearestTerrainObjects [_pivot, CATEGORY_COMP select _forEachIndex, _radius, false, true];
        _hidingCode forEach (_found inAreaArray _area);
			};
		} forEach _flags;
  } forEach [
    [[[6253.54,2323.1,0],2,2,0,false,0],15],
    [[[6268.97,2546.17,0],5,5,0,false,-1],15],
    [[[6279.34,2541.18,0],2,2,0,false,0],15],
    [[[6275.65,2566.41,0],5,5,0,false,-1],15],
    [[[6288.28,2580.23,0],2,2,0,false,0],15],
    [[[6504.36,2347,0],25,35,42.898,true,0],15],
    [[[6504.88,2572.17,0],2,2,0,false,0],15],
    [[[6487.8,2656.39,0],2,2,0,false,0],15],
    [[[6488.04,2672.83,0],2,2,0,false,0],15],
    [[[6733.95,2322.91,0],5,5,0,false,-1],15],
    [[[6744.07,2328.57,0],5,5,0,false,-1],15],
    [[[6749.35,2321.4,0],35,10,161.458,true,0],15],
    [[[6720.4,2367.25,0],30,7,133.879,true,0],15],
    [[[6509.43,2793.66,0],2,2,0,false,0],15],
    [[[6727.02,2433.87,0],5,5,0,false,-1],15],
    [[[6744.22,2441.26,0],20,10,133.879,true,0],15],
    [[[6722.97,2502.18,0],60,35,312.263,true,0],15],
    [[[6302.32,2622.85,0],2,2,0,false,0],15],
    [[[6313.72,2667.28,0],2,2,0,false,0],15],
    [[[6979.99,2349.6,0],2,2,0,false,0],15],
    [[[6964.04,2483.84,0],5,5,0,false,-1],15],
    [[[6539.93,2506.2,0],15,5,33.9149,false,0],15],
    [[[6517.16,2623.09,0],2,2,0,false,0],15],
    [[[6534.91,2773.12,0],2,2,0,false,0],15],
    [[[6754.53,2328.47,0],5,5,0,false,-1],15],
    [[[6751.08,2342.92,0],35,10,161.458,true,0],15],
    [[[6347.27,2323.35,0],2,2,0,false,0],15],
    [[[6346.63,2413.44,0],2,2,0,false,0],15],
    [[[6779.65,2465.34,0],2,2,0,false,0],15],
    [[[6338.53,2592.54,0],2,2,0,false,0],15],
    [[[6764.25,2575.83,0],30,7,223.355,true,0],15],
    [[[6766.15,2627.4,0],30,7,133.879,true,0],15],
    [[[6566.42,2285.08,0],5,5,0,false,-1],15],
    [[[6549.83,2356.91,0],5,5,0,false,-1],15],
    [[[6561.59,2386.97,0],2,2,0,false,0],15],
    [[[6544.06,2488.7,0],25,5,312.391,true,0],15],
    [[[6550.36,2511.5,0],25,5,224.682,true,0],15],
    [[[6565.52,2510.13,0],2,2,0,false,0],15],
    [[[6547.48,2657.51,0],2,2,0,false,0],15],
    [[[7007.07,2369.85,0],2,2,0,false,0],15],
    [[[6564.37,2762.28,0],2,2,0,false,0],15],
    [[[7005.15,2459.85,0],2,2,0,false,0],15],
    [[[6555.89,2876.56,0],5,5,0,false,-1],15],
    [[[7010.54,2480.63,0],2,2,0,false,0],15],
    [[[6379.12,2482.3,0],4,4,0,false,0],15],
    [[[6379.36,2474.39,0],4,4,0,false,0],15],
    [[[6366.8,2619.6,0],2,2,0,false,0],15],
    [[[6378.51,2659.82,0],5,5,0,false,-1],15],
    [[[6383.57,2663.94,0],5,5,0,false,-1],15],
    [[[6382.44,2688.84,0],5,5,0,false,-1],15],
    [[[6375.6,2702.11,0],2,2,0,false,0],15],
    [[[6367.78,2757.16,0],2,2,0,false,0],15],
    [[[6386.08,2737.47,0],5,5,0,false,-1],15],
    [[[6372.87,2746.65,0],5,5,0,false,-1],15],
    [[[6787.98,2399.36,0],30,7,53.7094,true,0],15],
    [[[6783.01,2441.58,0],2,2,0,false,0],15],
    [[[6780.41,2485.4,0],5,5,0,false,-1],15],
    [[[6205.62,2199.28,0],2,2,0,false,0],15],
    [[[6209.7,2202.58,0],2,2,0,false,0],15],
    [[[7225.33,2633.51,0],50,5,120.029,true,0],15],
    [[[7214.28,2753.61,0],50,5,48.171,true,0],15],
    [[[6580.03,2343.87,0],5,5,0,false,-1],15],
    [[[6595.82,2347.75,0],5,5,0,false,-1],15],
    [[[6590.81,2356.59,0],5,5,0,false,-1],15],
    [[[7034.64,2391.67,0],2,2,0,false,0],15],
    [[[6584.24,2581.86,0],2,2,0,false,0],15],
    [[[6582.87,2652.94,0],2,2,0,false,0],15],
    [[[7046.21,2927.15,0],50,5,48.171,true,0],15],
    [[[6595.82,2910.12,0],5,5,0,false,-1],15],
    [[[6407.04,2224.18,0],2,2,0,false,0],15],
    [[[6404.58,2453.3,0],2,2,0,false,0],15],
    [[[6402.25,2663.43,0],2,2,0,false,0],15],
    [[[6411.74,2718.17,0],5,5,0,false,-1],15],
    [[[6410.6,2746.1,0],5,5,0,false,-1],15],
    [[[6394.8,2734.31,0],2,2,0,false,0],15],
    [[[6412,2756,0],5,5,0,false,-1],15],
    [[[6812.69,2355.74,0],30,7,101.778,true,0],15],
    [[[6813.12,2343.91,0],35,10,146.143,true,0],15],
    [[[6833.78,2388.85,0],5,5,0,false,-1],15],
    [[[6816.61,2400.67,0],2,2,0,false,0],15],
    [[[6822.18,2484.66,0],2,2,0,false,0],15],
    [[[6814.11,2528.52,0],30,7,222.23,true,0],15],
    [[[6833.84,2526.85,0],5,7,0,false,0],15],
    [[[6819.04,2705.89,0],5,5,0,false,-1],15],
    [[[6214.39,2205.49,0],2,2,0,false,0],15],
    [[[6600.41,2275.59,0],5,5,0,false,-1],15],
    [[[6610.98,2324.14,0],15,5,135.277,true,0],15],
    [[[6612.32,2315.25,0],15,5,42.415,true,0],15],
    [[[6629.4,2345.59,0],15,5,135.277,true,0],15],
    [[[6606.26,2394.29,0],5,5,0,false,-1],15],
    [[[6621.82,2410.74,0],2,2,0,false,0],15],
    [[[6625.75,2547.71,0],2,2,0,false,0],15],
    [[[6604.34,2564.35,0],2,2,0,false,0],15],
    [[[6622.49,2606.49,0],2,2,0,false,0],15],
    [[[7234.17,2716.76,0],50,5,81.5772,true,0],15],
    [[[6446.7,2249.57,0],2,2,0,false,0],15],
    [[[6445.88,2712.03,0],2,2,0,false,0],15],
    [[[6847.41,2329.87,0],5,5,0,false,-1],15],
    [[[6867,2387.66,0],35,10,146.143,true,0],15],
    [[[6854.15,2404.76,0],5,5,0,false,-1],15],
    [[[6861.41,2437.53,0],2,2,0,false,0],15],
    [[[6855.87,2499.96,0],5,5,0,false,-1],15],
    [[[6843.81,2537.5,0],2,2,0,false,0],15],
    [[[6852.25,2553.97,0],5,5,0,false,-1],15],
    [[[6866.36,2566.22,0],5,5,0,false,-1],15],
    [[[6851.69,2607.53,0],5,5,0,false,-1],15],
    [[[6860.85,2649.62,0],15,5,331.635,false,0],15],
    [[[6861.26,2658.29,0],2,2,0,false,0],15],
    [[[6856.76,2729.74,0],2,2,0,false,0],15],
    [[[7096.88,2882.29,0],50,5,48.171,true,0],15],
    [[[6632.51,2307.03,0],10,30,163.88,true,0],15],
    [[[6637.57,2326.4,0],10,15,41.46,true,0],15],
    [[[6654.93,2356.34,0],5,5,0,false,-1],15],
    [[[6646.92,2614.78,0],2,2,0,false,0],15],
    [[[7275.46,3025.9,0],5,5,317.777,false,0],15],
    [[[7268.2,3032.43,0],10,7,317.777,false,0],15],
    [[[6472.05,2541.02,0],2,2,0,false,0],15],
    [[[6461.21,2641.5,0],2,2,0,false,0],15],
    [[[6470.96,2749.91,0],2,2,0,false,0],15],
    [[[6871.58,2414.72,0],5,5,0,false,-1],15],
    [[[6883.46,2444.69,0],5,5,0,false,-1],15],
    [[[6898.2,2483.54,0],5,5,0,false,-1],15],
    [[[6881.58,2474.68,0],2,2,0,false,0],15],
    [[[6898.52,2563.06,0],5,5,0,false,-1],15],
    [[[6894.17,2684.73,0],2,2,0,false,0],15],
    [[[6679.9,2298.24,0],5,5,0,false,-1],15],
    [[[6678.55,2338.95,0],2,2,0,false,0],15],
    [[[6663.18,2345.16,0],5,5,0,false,-1],15],
    [[[6669.41,2415.68,0],60,35,223.031,true,0],15],
    [[[6682.45,2592.31,0],2,2,0,false,0],15],
    [[[6683.4,2663.49,0],2,2,0,false,0],15],
    [[[6675.64,2751.14,0],2,2,0,false,0],15],
    [[[6663.59,2770.64,0],5,5,0,false,-1],15],
    [[[7168.11,2807.11,0],50,5,48.171,true,0],15],
    [[[7169.7,3017.63,0],20,18,331.635,false,0],15],
    [[[7170.5,2575.01,0],50,5,141.625,true,0],15],
    [[[7174.57,2992.01,0],20,18,331.635,false,0],15],
    [[[7179.92,3028.6,0],20,18,331.635,false,0],15],
    [[[6719.5,2317.59,0],5,5,0,false,-1],15],
    [[[6707.17,2695.45,0],2,2,0,false,0],15],
    [[[6902.68,2291.01,0],2,2,0,false,0],15],
    [[[6929.37,2310.75,0],2,2,0,false,0],15],
    [[[6901.5,2420.72,0],5,5,0,false,-1],15],
    [[[6912.79,2426.08,0],5,5,0,false,-1],15],
    [[[6920.25,2453.79,0],5,5,0,false,-1],15],
    [[[6904.14,2476.19,0],5,5,0,false,-1],15],
    [[[6911.91,2496.53,0],5,5,0,false,-1],15],
    [[[6925.81,2532.83,0],5,5,0,false,-1],15],
    [[[6908.08,2580,0],2,2,0,false,0],15],
    [[[6952.26,2329.31,0],2,2,0,false,0],15],
    [[[6930.98,2440.9,0],5,5,0,false,-1],15],
    [[[6955.92,2459.46,0],5,5,359.718,false,-1],15],
    [[[6951.71,2436.86,0],2,2,0,false,0],15],
    [[[6941.77,2510.85,0],5,5,0,false,-1],15],
    [[[6946.01,3139.12,0],5,5,0,false,-1],15]
  ];
};
